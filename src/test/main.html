<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Koala - a dream toolkit for developer</title>
	<link type="text/css" rel="stylesheet" href="../styles/css/main.css">
	<script type="text/javascript" src="../lib/jquery-1.8.3.min.js"></script>
	<script type="text/javascript" src="../lib/jquery.koalaui.js"></script>
	<script type="text/javascript" src="../lib/jquery.drag.js"></script>
</head>
<body class="win32">
	<div id="window">
		<header id="framebar">
			<h1><span>K</span>oala</h1>
			<div class="btns">
				<button class="minimize custom_button">minimize</button>
				<button class="close custom_button">close</button>
			</div>
		</header>
		<div id="content">
			<div id="sidebar">
				<!-- hidden form -->
				<input type="file" class="hide" nwdirectory id="ipt_addProject"/> 
				<ul id="menus">
					<li id="addDirectory">add folder</li>
					<li id="log">log</li>
					<li id="settings">settings</li>
				</ul>
				<div id="projects">
					<ul id="folders">
						<li>imagecacheimagecacheimagecache</li>
						<li class="active">less</li>
						<li>sass</li>
						<li>coffee</li>
					</ul>
				</div>
				<div id="sidebar_resizable"></div>
			</div>
			<section id="main">
				<header id="searchbar">
					<button class="custom_button" id="refresh">Refresh</button>
					<div id="searchform">
						<input type="text" placeholder="Search" />
						<button class="custom_button">submit</button>
					</div>
					<div class="hr"></div>
				</header>
				<section id="files">
					<!-- hidden form -->
					<input type="hidden" id="ipt_fileData"/> 
					<input type="file" class="hide" id="ipt_fileOutput" nwsaveas />
					<ul id="filelist">
						<li class="file_item type_less">
							<h3 class="name">C:\Desktop\yuicompressor\sass\test.sass</h3>
							<p class="output">
								<button class="custom_button changeOutput">change</button>
								<span>C:\Desktop\yuicompressor\sass\test.css</span>
							</p>
						</li>
						<li class="file_item type_sass">
							<h3 class="name">C:\Desktop\yuicompressor\sass\test.sass</h3>
							<p class="output">
								<button class="custom_button changeOutput">change</button>
								<span>C:\Desktop\yuicompressor\sass\test.css</span>
							</p>
						</li>
						<li class="file_item type_scss"></li>
						<li class="file_item type_coffee"></li>
						<li class="file_item type_scss"></li>
						<li class="file_item type_coffee"></li>
						<li class="file_item type_scss"></li>
						<li class="file_item type_coffee"></li>
						<li class="file_item type_scss"></li>
						<li class="file_item type_coffee"></li>
					</ul>
				</section>
				<!-- Category navigation -->
				<footer id="categoryNav">
					<div class="hr"></div>
					<ul class="nav">
						<li class="current">all</li>
						<li>less</li>
						<li>sass</li>
						<li>coffee</li>
					</ul>
				</footer>
			</section>
			<div id="extend">
				<div class="inner">
					<h3 class="type type_sass"></h3>
					<label>
						<input type="checkbox"> dynamic compilation (通用)
					</label>
					
					<div class="optionItem">
						<h3 class="title">options:</h3>
						<label>
							<input type="checkbox">  compile without a top-level function wrapper
						</label>
						<label>
							<input type="checkbox"> compass
						</label>
						<label>
							<input type="checkbox"> line comments (通用)
						</label>
					</div>
					
					<div class="optionItem">
						<h3 class="title">output style: (通用)</h3>
						<select>
							<option value="">normal</option>
							<option value="compress">compress</option>
							<option value="yuicompress">yuicompress</option>
						</select>
					</div>

					<footer>
						<button>compile</button>	
					</footer>
				</div>
			</div>
		</div>
	</div>

	<!-- window resize toolbar-->
	<div id="window_resizable" style="position:absolute;top:100px;left:100px;width:200px;height:200px;background:yellow">
		<div class="moveable"></div>
		<div class="resizable_n"></div>
		<div class="resizable_e"></div>
		<div class="resizable_s"></div>
		<div class="resizable_w"></div>
		<div class="resizable_se"></div>
	</div>

	<!-- koalaui components -->
	<div class="koalaui-alert hide">
		<div class="text">hahhahhahahaahh</div>
		<footer><button>OK</button></footer>
	</div>

	<div class="koalaui-loading hide">
		<span class="loadingimg"></span>	
		<div class="text">reading folder</div>
	</div>

	<div class="koalaui-tooltip success hide">Success</div>

	<div class="koalaui-confirm hide">
		<div class="text">hahhahhahahaahh</div>
		<footer>
			<button class="cancel">Cancel</button>
			<button class="ok">OK</button>
		</footer>
	</div>
	<div class="koalaui-overlay hide"></div>
	<!-- /koalaui components -->

	<script type="text/javascript">
		$('#folders li').click(function () {
			$('#folders .active').removeClass('active');
			$(this).addClass('active');
		});

		$('.file_item').click(function () {
			$('.file_item.active').removeClass('active');
			$(this).addClass('active');

			if ($('#extend').hasClass('show')) {
				$('#extend').removeClass('show');
				setTimeout(function () {
					$('#extend').addClass('show');
				}, 250);
			} else {
				$('#extend').addClass('show');	
			}
		});

		$('#categoryNav .nav li').click(function () {
			$('#categoryNav .current').removeClass('current');
			$(this).addClass('current');
		})

		var resizable = $('#window_resizable');
		$('#window_resizable .resizable_n').drag({
			move: function (x,y) {
				var height = resizable.height() - y;

				if (height < 200) {
					$('#window_resizable .resizable_n').trigger('mouseup');
					return false;
				}

				resizable.height(height);
			}
		});
		$('#window_resizable .resizable_s').drag({
			move: function (x,y) {
				var height = resizable.height() + y;

				if (height < 200) {
					$('#window_resizable .resizable_s').trigger('mouseup');
					return false;
				}

				resizable.height(height);
			}
		});
		$('#window_resizable .resizable_w').drag({
			move: function (x) {
				var width = resizable.width() - x;

				if (width < 200) {
					$('#window_resizable .resizable_w').trigger('mouseup');
					return false;
				};

				resizable.width(width);
			}
		});
		$('#window_resizable .resizable_e').drag({
			move: function (x) {
				var width = resizable.width() + x;

				if (width < 200) {
					$('#window_resizable .resizable_e').trigger('mouseup');
					return false;
				};

				resizable.width(width);
			}
		});
		$('#window_resizable .resizable_se').drag({
			move: function (x, y) {
				var width = resizable.width() + x,
					height = resizable.height() + y;

				if (width < 200 && height < 200) {
					$('#window_resizable .resizable_se').trigger('mouseup');
					return false;
				};

				if (width >= 200) {
					resizable.width(width);
				}

				if (height >= 200) {
					resizable.height(height);
				}
			}
		});
		$('#window_resizable .moveable').drag({
			move: function (x, y) {
				var offset = resizable.offset(),
					left   = offset.left + x,
					top  = offset.top + y;

				if (left >= 0) {
					resizable.css('left', left);
				}

				if (top >= 0) {
					resizable.css('top', top);
				}
			}
		});


		$('#sidebar_resizable').drag({
			move: function (x) {
				var width = $('#sidebar').width() + x;

				if (width < 215) {
					$('#sidebar_resizable').trigger('mouseup');
					return false;
				}

				$('#sidebar').width(width);
			}
		});
	</script>
</body>
</html>